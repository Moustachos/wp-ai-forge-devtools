{"version":3,"file":"index.js","mappings":"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","sources":["webpack://aiforge-devtools-admin/./src/api/client.js","webpack://aiforge-devtools-admin/./src/components/CopyButton.jsx","webpack://aiforge-devtools-admin/./src/components/DemoNotice.jsx","webpack://aiforge-devtools-admin/./src/components/DemoToggle.jsx","webpack://aiforge-devtools-admin/./src/components/DevToggle.jsx","webpack://aiforge-devtools-admin/./src/components/PromptDebugger.jsx","webpack://aiforge-devtools-admin/./src/components/TaskDetailExtension.jsx","webpack://aiforge-devtools-admin/./src/styles/demo-mode.scss?0614","webpack://aiforge-devtools-admin/./src/styles/prompt-debugger.scss?6f1d","webpack://aiforge-devtools-admin/./src/styles/task-detail-extension.scss?5e2a","webpack://aiforge-devtools-admin/external window [\"wp\",\"apiFetch\"]","webpack://aiforge-devtools-admin/external window [\"wp\",\"components\"]","webpack://aiforge-devtools-admin/external window [\"wp\",\"element\"]","webpack://aiforge-devtools-admin/external window [\"wp\",\"hooks\"]","webpack://aiforge-devtools-admin/external window [\"wp\",\"i18n\"]","webpack://aiforge-devtools-admin/external window \"React\"","webpack://aiforge-devtools-admin/webpack/bootstrap","webpack://aiforge-devtools-admin/webpack/runtime/compat get default export","webpack://aiforge-devtools-admin/webpack/runtime/define property getters","webpack://aiforge-devtools-admin/webpack/runtime/hasOwnProperty shorthand","webpack://aiforge-devtools-admin/webpack/runtime/make namespace object","webpack://aiforge-devtools-admin/./src/index.js"],"sourcesContent":["/**\n * API Client for AI Forge Dev Tools\n *\n * @package AIForgeDevTools\n */\n\nconst getConfig = () => {\n    return window.aiforgeDevData || {\n        apiUrl: '/wp-json/aiforge-dev/v1',\n        nonce: '',\n    };\n};\n\nconst request = async (endpoint, options = {}) => {\n    const config = getConfig();\n    const url = `${config.apiUrl}${endpoint}`;\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'X-WP-Nonce': config.nonce,\n        ...options.headers,\n    };\n\n    const response = await fetch(url, {\n        ...options,\n        headers,\n    });\n\n    const data = await response.json();\n\n    if (!response.ok || data.success === false) {\n        const error = new Error(data.error?.message || 'Une erreur est survenue');\n        error.response = { data };\n        throw error;\n    }\n\n    return data;\n};\n\nexport const api = {\n    getDemoMode: () => request('/demo-mode'),\n\n    setDemoMode: (enabled) =>\n        request('/demo-mode', {\n            method: 'POST',\n            body: JSON.stringify({ enabled }),\n        }),\n\n    getDevMode: () => request('/dev-mode'),\n\n    setDevMode: (enabled) =>\n        request('/dev-mode', {\n            method: 'POST',\n            body: JSON.stringify({ enabled }),\n        }),\n};\n\nexport default api;\n","/**\r\n * Copy Button Component (DevTools)\r\n *\r\n * Reusable copy button for code blocks\r\n *\r\n * @package AIForgeDevTools\r\n */\r\n\r\nimport { useState } from '@wordpress/element';\r\nimport { Button } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Copy button component for code blocks\r\n *\r\n * @param {Object} props\r\n * @param {string} props.content - Content to copy\r\n * @param {string} props.className - Additional CSS class\r\n */\r\nfunction CopyButton({ content, className = '' }) {\r\n\tconst [copied, setCopied] = useState(false);\r\n\r\n\tconst handleCopy = async () => {\r\n\t\ttry {\r\n\t\t\tawait navigator.clipboard.writeText(content);\r\n\t\t\tsetCopied(true);\r\n\t\t\tsetTimeout(() => setCopied(false), 2000);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Failed to copy:', error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tvariant=\"secondary\"\r\n\t\t\tsize=\"small\"\r\n\t\t\tonClick={handleCopy}\r\n\t\t\tclassName={`copy-button ${className}`}\r\n\t\t\ticon={copied ? 'yes' : 'clipboard'}\r\n\t\t>\r\n\t\t\t{copied ? __('Copié !', 'ai-forge-devtools') : __('Copier', 'ai-forge-devtools')}\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\nexport default CopyButton;\r\n","/**\n * Demo Notice Component\n *\n * Notice displayed when demo mode is active.\n *\n * @package AIForgeDevTools\n */\n\nimport { __ } from '@wordpress/i18n';\n\nexport default function DemoNotice() {\n    return (\n        <div className=\"aiforge-demo-notice\">\n            <span className=\"dashicons dashicons-info\"></span>\n            {__('Mode démo actif : les services sont simulés, aucun appel externe.', 'ai-forge-devtools')}\n        </div>\n    );\n}\n","/**\n * Demo Toggle Component\n *\n * Toggle control for enabling/disabling demo mode.\n *\n * @package AIForgeDevTools\n */\n\nimport { useState } from '@wordpress/element';\nimport { ToggleControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport api from '../api/client';\n\nexport default function DemoToggle() {\n    const [isDemoMode, setIsDemoMode] = useState(window.aiforgeDevData?.isDemoMode ?? false);\n    const [isToggling, setIsToggling] = useState(false);\n\n    const handleToggle = async (enabled) => {\n        setIsToggling(true);\n        try {\n            await api.setDemoMode(enabled);\n            window.location.reload();\n        } catch (error) {\n            console.error('Failed to toggle demo mode:', error);\n            setIsToggling(false);\n        }\n    };\n\n    return (\n        <ToggleControl\n            label={__('Mode démo', 'ai-forge-devtools')}\n            checked={isDemoMode}\n            onChange={handleToggle}\n            disabled={isToggling}\n            __nextHasNoMarginBottom\n        />\n    );\n}\n","/**\n * Dev Toggle Component\n *\n * Toggle control for enabling/disabling dev mode (debug tools).\n *\n * @package AIForgeDevTools\n */\n\nimport { useState } from '@wordpress/element';\nimport { ToggleControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport api from '../api/client';\n\nexport default function DevToggle() {\n    const [isDevMode, setIsDevMode] = useState(window.aiforgeDevData?.isDevMode ?? false);\n    const [isToggling, setIsToggling] = useState(false);\n\n    const handleToggle = async (enabled) => {\n        setIsToggling(true);\n        try {\n            await api.setDevMode(enabled);\n            window.location.reload();\n        } catch (error) {\n            console.error('Failed to toggle dev mode:', error);\n            setIsToggling(false);\n        }\n    };\n\n    return (\n        <ToggleControl\n            label={__('Mode dev', 'ai-forge-devtools')}\n            checked={isDevMode}\n            onChange={handleToggle}\n            disabled={isToggling}\n            __nextHasNoMarginBottom\n        />\n    );\n}\n","/**\n * Prompt Debugger Component\n *\n * Displays the last prompt sent to the LLM with a copy button.\n * Only visible when demo mode is enabled.\n *\n * @package AIForgeDevTools\n */\n\nimport { useState, useEffect } from '@wordpress/element';\nimport { addAction, removeAction } from '@wordpress/hooks';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function PromptDebugger() {\n    const [prompt, setPrompt] = useState(window.aiforgeDevState?.lastPrompt || null);\n    const [copied, setCopied] = useState(false);\n\n    useEffect(() => {\n        const handleAgentResult = (data) => {\n            if (data?.meta?.debug?.prompt) {\n                setPrompt(data.meta.debug.prompt);\n            }\n        };\n\n        addAction('aiforge.agent.result', 'aiforge-devtools/prompt-debugger-update', handleAgentResult);\n\n        return () => {\n            removeAction('aiforge.agent.result', 'aiforge-devtools/prompt-debugger-update');\n        };\n    }, []);\n\n    if (!prompt) {\n        return null;\n    }\n\n    const handleCopy = async () => {\n        try {\n            await navigator.clipboard.writeText(prompt);\n            setCopied(true);\n            setTimeout(() => setCopied(false), 2000);\n        } catch (err) {\n            console.error('Failed to copy:', err);\n        }\n    };\n\n    return (\n        <div className=\"aiforge-prompt-debugger\">\n            <div className=\"aiforge-prompt-debugger__header\">\n                <h3>{__('Prompt envoyé', 'ai-forge-devtools')}</h3>\n                <Button\n                    variant=\"secondary\"\n                    size=\"small\"\n                    onClick={handleCopy}\n                    icon={copied ? 'yes' : 'clipboard'}\n                >\n                    {copied ? __('Copié !', 'ai-forge-devtools') : __('Copier', 'ai-forge-devtools')}\n                </Button>\n            </div>\n            <pre className=\"aiforge-prompt-debugger__code\">\n                <code>{prompt}</code>\n            </pre>\n        </div>\n    );\n}\n","/**\r\n * Task Detail Modal Extension (DevTools)\r\n *\r\n * Adds Logs/Payloads/Metadata tabs and \"Copy Prompt\" button to TaskDetailModal\r\n * Only visible when dev mode is enabled.\r\n *\r\n * @package AIForgeDevTools\r\n */\r\n\r\nimport { useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Button, Dropdown, MenuGroup, MenuItem } from '@wordpress/components';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport CopyButton from './CopyButton';\r\n\r\n/**\r\n * Provider options for prompt copy dropdown\r\n */\r\nconst PROVIDER_OPTIONS = [\r\n\t{ id: null, label: __('Sans addenda', 'ai-forge-devtools'), icon: 'editor-code' },\r\n\t{ id: 'gemini', label: 'Gemini', icon: 'cloud' },\r\n\t{ id: 'openai', label: 'OpenAI', icon: 'cloud' },\r\n\t{ id: 'anthropic', label: 'Anthropic', icon: 'cloud' },\r\n];\r\n\r\n/**\r\n * Get LLM child task for a markdown_to_gutenberg task\r\n */\r\nfunction getLlmChildTask(task) {\r\n\tif (!task.children || task.children.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\treturn task.children.find((child) => child.task_type === 'llm_generate');\r\n}\r\n\r\n/**\r\n * Get prompt payload from LLM task\r\n */\r\nfunction getPromptFromTask(task) {\r\n\tconst llmTask = getLlmChildTask(task);\r\n\tif (!llmTask || !llmTask.payloads) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst promptPayload = llmTask.payloads.find((p) => p.type === 'prompt_snapshot_full');\r\n\treturn promptPayload ? promptPayload.payload : null;\r\n}\r\n\r\n/**\r\n * Format date for logs\r\n */\r\nfunction formatDate(dateString) {\r\n\tif (!dateString) return '-';\r\n\tconst date = new Date(dateString);\r\n\treturn date.toLocaleString('fr-FR', {\r\n\t\tyear: 'numeric',\r\n\t\tmonth: 'long',\r\n\t\tday: 'numeric',\r\n\t\thour: '2-digit',\r\n\t\tminute: '2-digit',\r\n\t\tsecond: '2-digit',\r\n\t});\r\n}\r\n\r\n/**\r\n * Render Logs tab content\r\n */\r\nfunction renderLogsTab(task) {\r\n\tconst llmTask = getLlmChildTask(task);\r\n\tconst logs = llmTask?.logs || task.logs || [];\r\n\r\n\tif (logs.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className=\"task-detail-modal__empty\">\r\n\t\t\t\t<p>{__('Aucun log disponible', 'ai-forge-devtools')}</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"task-detail-modal__logs\">\r\n\t\t\t{logs.map((log, index) => (\r\n\t\t\t\t<div key={index} className={`task-log task-log--${log.level}`}>\r\n\t\t\t\t\t<span className=\"task-log__level\">[{log.level}]</span>\r\n\t\t\t\t\t<span className=\"task-log__message\">{log.message}</span>\r\n\t\t\t\t\t<span className=\"task-log__time\">{formatDate(log.created_at)}</span>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n/**\r\n * Render Payloads tab content\r\n */\r\nfunction renderPayloadsTab(task) {\r\n\tconst llmTask = getLlmChildTask(task);\r\n\tconst payloads = llmTask?.payloads || task.payloads || [];\r\n\r\n\tif (payloads.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className=\"task-detail-modal__empty\">\r\n\t\t\t\t<p>{__('Aucun payload disponible', 'ai-forge-devtools')}</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"task-detail-modal__payloads\">\r\n\t\t\t{payloads.map((payload, index) => (\r\n\t\t\t\t<div key={index} className=\"task-detail-modal__code-block\">\r\n\t\t\t\t\t<div className=\"task-detail-modal__code-header\">\r\n\t\t\t\t\t\t<strong>{payload.type}</strong>\r\n\t\t\t\t\t\t<CopyButton content={payload.payload} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<pre className=\"task-detail-modal__code\">{payload.payload}</pre>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n/**\r\n * Render Metadata tab content\r\n */\r\nfunction renderMetadataTab(task) {\r\n\tconst llmTask = getLlmChildTask(task);\r\n\tconst meta = llmTask?.meta || task.meta || {};\r\n\r\n\tif (Object.keys(meta).length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className=\"task-detail-modal__empty\">\r\n\t\t\t\t<p>{__('Aucune métadonnée disponible', 'ai-forge-devtools')}</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"task-detail-modal__meta\">\r\n\t\t\t<table className=\"task-meta-table\">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{Object.entries(meta).map(([key, value]) => (\r\n\t\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t\t<td className=\"task-meta-table__key\">{key}</td>\r\n\t\t\t\t\t\t\t<td className=\"task-meta-table__value\">\r\n\t\t\t\t\t\t\t\t{typeof value === 'object' ? JSON.stringify(value, null, 2) : String(value)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n/**\r\n * Add tabs to TaskDetailModal\r\n */\r\nexport function addTaskDetailTabs(tabs, context) {\r\n\tconst isDevMode = window.aiforgeDevData?.isDevMode ?? false;\r\n\tif (!isDevMode) {\r\n\t\treturn tabs;\r\n\t}\r\n\r\n\tconst { task } = context;\r\n\r\n\t// Add Logs tab\r\n\ttabs.push({\r\n\t\tname: 'logs',\r\n\t\ttitle: __('Logs', 'ai-forge-devtools'),\r\n\t\tcontent: renderLogsTab(task),\r\n\t});\r\n\r\n\t// Add Payloads tab\r\n\ttabs.push({\r\n\t\tname: 'payloads',\r\n\t\ttitle: __('Payloads', 'ai-forge-devtools'),\r\n\t\tcontent: renderPayloadsTab(task),\r\n\t});\r\n\r\n\t// Add Metadata tab\r\n\ttabs.push({\r\n\t\tname: 'meta',\r\n\t\ttitle: __('Métadonnées', 'ai-forge-devtools'),\r\n\t\tcontent: renderMetadataTab(task),\r\n\t});\r\n\r\n\treturn tabs;\r\n}\r\n\r\n/**\r\n * Copy Prompt Dropdown Component\r\n *\r\n * Allows copying the prompt with different provider addenda.\r\n */\r\nfunction CopyPromptDropdown({ taskId }) {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [copied, setCopied] = useState(false);\r\n\tconst [copiedProvider, setCopiedProvider] = useState(null);\r\n\r\n\tconst handleCopyPrompt = async (providerId, onClose) => {\r\n\t\tsetLoading(true);\r\n\t\tsetCopiedProvider(providerId);\r\n\r\n\t\ttry {\r\n\t\t\tconst params = providerId ? `?provider=${providerId}` : '';\r\n\t\t\tconst response = await apiFetch({\r\n\t\t\t\tpath: `/aiforge/v1/tasks/${taskId}/prompt${params}`,\r\n\t\t\t});\r\n\r\n\t\t\tif (response.success && response.data?.prompt) {\r\n\t\t\t\tawait navigator.clipboard.writeText(response.data.prompt);\r\n\t\t\t\tsetCopied(true);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetCopied(false);\r\n\t\t\t\t\tsetCopiedProvider(null);\r\n\t\t\t\t}, 2000);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Failed to fetch/copy prompt:', error);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t\tonClose();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\tpopoverProps={{ placement: 'bottom-end' }}\r\n\t\t\trenderToggle={({ isOpen, onToggle }) => (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\ticon={copied ? 'yes' : 'clipboard'}\r\n\t\t\t\t\tonClick={onToggle}\r\n\t\t\t\t\taria-expanded={isOpen}\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t>\r\n\t\t\t\t\t{copied\r\n\t\t\t\t\t\t? __('Copié !', 'ai-forge-devtools')\r\n\t\t\t\t\t\t: __('Copier le prompt', 'ai-forge-devtools')}\r\n\t\t\t\t</Button>\r\n\t\t\t)}\r\n\t\t\trenderContent={({ onClose }) => (\r\n\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t{PROVIDER_OPTIONS.map((option) => (\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\tkey={option.id || 'base'}\r\n\t\t\t\t\t\t\ticon={option.icon}\r\n\t\t\t\t\t\t\tonClick={() => handleCopyPrompt(option.id, onClose)}\r\n\t\t\t\t\t\t\tdisabled={loading && copiedProvider === option.id}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.label}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</MenuGroup>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\n/**\r\n * Add \"Copy Prompt\" dropdown to TaskDetailModal footer\r\n */\r\nexport function addTaskDetailFooterActions(actions, context) {\r\n\tconst isDevMode = window.aiforgeDevData?.isDevMode ?? false;\r\n\tif (!isDevMode) {\r\n\t\treturn actions;\r\n\t}\r\n\r\n\tconst { task } = context;\r\n\r\n\t// Only for markdown_to_gutenberg tasks\r\n\tif (task.task_type !== 'markdown_to_gutenberg') {\r\n\t\treturn actions;\r\n\t}\r\n\r\n\t// Check if we have the necessary payloads (via LLM child task)\r\n\tconst llmTask = getLlmChildTask(task);\r\n\tif (!llmTask) {\r\n\t\treturn actions;\r\n\t}\r\n\r\n\t// Add \"Copy Prompt\" dropdown\r\n\tactions.push(\r\n\t\t<CopyPromptDropdown key=\"copy-prompt\" taskId={task.id} />\r\n\t);\r\n\r\n\treturn actions;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * AI Forge Dev Tools - Admin Entry Point\n *\n * Registers WordPress hooks to inject devtools components\n * into the main AI Forge admin interface.\n *\n * @package AIForgeDevTools\n */\n\nimport { addFilter, addAction } from '@wordpress/hooks';\nimport DemoToggle from './components/DemoToggle';\nimport DevToggle from './components/DevToggle';\nimport DemoNotice from './components/DemoNotice';\nimport PromptDebugger from './components/PromptDebugger';\nimport { addTaskDetailTabs, addTaskDetailFooterActions } from './components/TaskDetailExtension';\nimport './styles/demo-mode.scss';\nimport './styles/prompt-debugger.scss';\nimport './styles/task-detail-extension.scss';\n\n// Initialize global state for devtools\nwindow.aiforgeDevState = window.aiforgeDevState || {};\n\n/**\n * Listen for agent results and store debug info (prompt).\n */\naddAction(\n    'aiforge.agent.result',\n    'aiforge-devtools/store-prompt',\n    (data) => {\n        if (data?.meta?.debug?.prompt) {\n            window.aiforgeDevState.lastPrompt = data.meta.debug.prompt;\n        }\n    }\n);\n\n/**\n * Inject the toggles into the app header.\n */\naddFilter(\n    'aiforge.app.headerTools',\n    'aiforge-devtools/header-toggles',\n    () => (\n        <div className=\"aiforge-devtools-toggles\">\n            <DemoToggle />\n            <DevToggle />\n        </div>\n    )\n);\n\n/**\n * Inject the demo notice before services tab content.\n */\naddFilter(\n    'aiforge.settings.services.beforeContent',\n    'aiforge-devtools/demo-notice',\n    (content) => {\n        const isDemoMode = window.aiforgeDevData?.isDemoMode ?? false;\n        if (!isDemoMode) {\n            return content;\n        }\n        return (\n            <>\n                <DemoNotice />\n                {content}\n            </>\n        );\n    }\n);\n\n/**\n * Inject the prompt debugger after screen content (only on content-integrator in dev mode).\n */\naddFilter(\n    'aiforge.screen.afterContent',\n    'aiforge-devtools/prompt-debugger',\n    (content, context) => {\n        const isDevMode = window.aiforgeDevData?.isDevMode ?? false;\n        if (!isDevMode || context?.screen !== 'content-integrator') {\n            return content;\n        }\n        return (\n            <>\n                {content}\n                <PromptDebugger />\n            </>\n        );\n    }\n);\n\n/**\n * Add tabs (Logs/Payloads/Metadata) to TaskDetailModal (in dev mode).\n */\naddFilter(\n    'aiforge.taskDetailModal.tabs',\n    'aiforge-devtools/task-detail-tabs',\n    addTaskDetailTabs\n);\n\n/**\n * Add \"Copy Prompt\" button to TaskDetailModal footer (in dev mode).\n */\naddFilter(\n    'aiforge.taskDetailModal.footerActions',\n    'aiforge-devtools/task-detail-footer-actions',\n    addTaskDetailFooterActions\n);\n"],"names":["getConfig","window","aiforgeDevData","apiUrl","nonce","request","endpoint","options","config","url","headers","response","fetch","data","json","ok","success","error","Error","message","api","getDemoMode","setDemoMode","enabled","method","body","JSON","stringify","getDevMode","setDevMode","useState","Button","__","CopyButton","content","className","copied","setCopied","handleCopy","navigator","clipboard","writeText","setTimeout","console","createElement","variant","size","onClick","icon","DemoNotice","ToggleControl","DemoToggle","_window$aiforgeDevDat","isDemoMode","setIsDemoMode","isToggling","setIsToggling","handleToggle","location","reload","label","checked","onChange","disabled","__nextHasNoMarginBottom","DevToggle","isDevMode","setIsDevMode","useEffect","addAction","removeAction","PromptDebugger","prompt","setPrompt","aiforgeDevState","lastPrompt","handleAgentResult","meta","debug","err","Dropdown","MenuGroup","MenuItem","apiFetch","PROVIDER_OPTIONS","id","getLlmChildTask","task","children","length","find","child","task_type","getPromptFromTask","llmTask","payloads","promptPayload","p","type","payload","formatDate","dateString","date","Date","toLocaleString","year","month","day","hour","minute","second","renderLogsTab","logs","map","log","index","key","level","created_at","renderPayloadsTab","renderMetadataTab","Object","keys","entries","value","String","addTaskDetailTabs","tabs","context","push","name","title","CopyPromptDropdown","taskId","loading","setLoading","copiedProvider","setCopiedProvider","handleCopyPrompt","providerId","onClose","params","path","popoverProps","placement","renderToggle","isOpen","onToggle","renderContent","option","addTaskDetailFooterActions","actions","_window$aiforgeDevDat2","addFilter","Fragment","screen"],"ignoreList":[],"sourceRoot":""}